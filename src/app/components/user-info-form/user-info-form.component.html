<h2>
    Empecemos por conocer tus datos básicos para calcular macronutrientes.
</h2>
<mat-card appearance="outlined">
  <h3>Datos básicos</h3>
  <mat-accordion>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>¿Necesitas ayuda para seleccionar tu meta?</mat-panel-title>
      </mat-expansion-panel-header>
      <div class="help-content">
        <h4>Frecuencia de Entrenamiento por Nivel de Actividad</h4>
        <div class="activity-level">
          <h5>Sedentario:</h5>
          <p>Poco o ningún ejercicio físico. Actividades diarias mínimas, como trabajar sentado en una oficina o tareas domésticas básicas.</p>
          <p><strong>Frecuencia:</strong> 0-1 días a la semana de ejercicio.</p>
        </div>
        <div class="activity-level">
          <h5>Ligero:</h5>
          <p>Actividad física ligera. Puede incluir caminatas ocasionales, yoga ligero, ejercicio con pesas y actividades recreativas esporádicas.</p>
          <p><strong>Frecuencia:</strong> 1-3 días a la semana de ejercicio leve.</p>
        </div>
        <div class="activity-level">
          <h5>Moderado:</h5>
          <p>Actividad física moderada. Incluye ejercicios regulares como correr, nadar o entrenamientos en el gimnasio de intensidad media.</p>
          <p><strong>Frecuencia:</strong> 3-5 días a la semana.</p>
        </div>
        <div class="activity-level">
          <h5>Activo:</h5>
          <p>Nivel de actividad física alto. Entrenamientos regulares y de intensidad alta, como levantamiento de pesas, deportes competitivos o actividades físicas extenuantes.</p>
          <p><strong>Frecuencia:</strong> 5-6 días a la semana.</p>
        </div>
        <div class="activity-level">
          <h5>Muy Activo:</h5>
          <p>Actividad física muy intensa, como entrenamientos dobles al día, trabajo físico muy exigente o entrenamiento para competencias deportivas.</p>
          <p><strong>Frecuencia:</strong> 6-7 días a la semana o más (entrenamiento avanzado).</p>
        </div>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
  <form [formGroup]="userForm" (ngSubmit)="submitForm()" class="user-form">
    <div class="form-grid">
      <mat-form-field appearance="fill">
        <mat-label>Género</mat-label>
        <mat-select formControlName="gender">
          <mat-option value="male">Masculino</mat-option>
          <mat-option value="female">Femenino</mat-option>
        </mat-select>
        @if (userForm.get('gender')?.invalid) {
        <mat-error>{{ errorText("gender") }}</mat-error>
        }
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Peso (en kg)</mat-label>
        <input matInput formControlName="weight" type="number" />
        @if (userForm.get('weight')?.invalid) {
        <mat-error>{{ errorText("weight") }}</mat-error>
        }
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Altura (en centimetros)</mat-label>
        <input matInput formControlName="height" type="number" />
        @if (userForm.get('height')?.invalid) {
        <mat-error>{{ errorText("height") }}</mat-error>
        }
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Edad</mat-label>
        <input matInput formControlName="age" type="number" />
        @if (userForm.get('age')?.invalid) {
        <mat-error>{{ errorText("age") }}</mat-error>
        }
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Nivel de actividad</mat-label>
        <mat-select formControlName="activity_level">
          <mat-option value="sedentary">Sedentario</mat-option>
          <mat-option value="light">Ligero</mat-option>
          <mat-option value="moderate">Moderado</mat-option>
          <mat-option value="active">Activo</mat-option>
          <mat-option value="very_active">Muy activo</mat-option>
        </mat-select>
        @if (userForm.get('activity_level')?.invalid) {
        <mat-error>{{ errorText("activity_level") }}</mat-error>
        }
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Meta</mat-label>
        <mat-select formControlName="goal">
          <mat-option value="lose">Perder peso/definición muscular</mat-option>
          <mat-option value="gain">Ganar volumen muscular</mat-option>
          <mat-option value="maintenance">Mantener peso</mat-option>
          <mat-option value="recomposition">Recomposición corporal</mat-option>
        </mat-select>
        @if (userForm.get('goal')?.invalid) {
        <mat-error>{{ errorText("goal") }}</mat-error>
        }
      </mat-form-field>
    </div>

    <button mat-raised-button color="primary" type="submit">Calcula mis macros</button>
  </form>
</mat-card>
